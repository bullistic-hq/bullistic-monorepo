CREATE TABLE "public"."NftListing" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "nftId" text NOT NULL, "timeCreated" timestamptz NOT NULL DEFAULT now(), "auctionDurationInSeconds" integer NOT NULL DEFAULT 86400, "auctionEndTime" timestamptz, "isPnftDropActive" boolean, "pnftIdForAuction" text, "priceInLamports" bigint, "scheduledAuctionTime" timestamptz, "timeExtensionDurationInSeconds" integer NOT NULL DEFAULT 600, "editionPriceFunctionType" text, "editionPriceFunctionStartingPriceInLamports" integer, "editionPriceFunctionParams" jsonb, PRIMARY KEY ("id") , FOREIGN KEY ("nftId") REFERENCES "public"."Nft"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("pnftIdForAuction") REFERENCES "public"."Nft"("id") ON UPDATE restrict ON DELETE restrict, UNIQUE ("id"), UNIQUE ("nftId"));
CREATE EXTENSION IF NOT EXISTS pgcrypto;
